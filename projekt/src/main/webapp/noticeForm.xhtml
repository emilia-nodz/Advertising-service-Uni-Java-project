<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      lang="pl">
<h:head>
    <meta charset="UTF-8" />
    <title>Logowanie</title>
</h:head>
<h:body>

    <h:form>

        <h:inputText value="#{noticeController.newNotice.title}"/>
        <h:inputText value="#{noticeController.newNotice.description}"/>
        <h:inputText value="#{noticeController.newNotice.amount}"/>
        <h:selectOneMenu value="#{noticeController.newNotice.category}" styleClass="form-select" converter="categoryConverter">
            <f:selectItems value="#{categoryController.categories}" var="cat"
                           itemLabel="#{cat.name}" itemValue="#{cat}"/>
        </h:selectOneMenu>

        <h:commandButton value="Save" action="#{noticeController.addNotice}"/>
    </h:form>

    <!-- Lista ogłoszeń -->
    <h:dataTable value="#{noticeController.notices}" var="notice">
        <h:column>#{notice.title}</h:column>
        <h:column>
            <h:commandButton value="Edit" action="#{noticeController.prepareUpdate(notice.id)}"/>
            <h:commandButton value="Delete" action="#{noticeController.deleteNotice(notice.id)}"/>
        </h:column>
    </h:dataTable>

    <!-- TODO: formularz filtrowania -->
    <h:form>
        <h:inputText value="#{noticeController.searchTitle}"/>
        <h:commandButton value="Search" action="#{noticeController.search}"/>
        <h:commandButton value="Clear" action="#{noticeController.clearSearch}"/>
    </h:form>

    <!-- TODO: wyniki filtrowania -->
    <h:dataTable value="#{noticeController.searchResults}" var="result" rendered="#{not empty noticeController.searchResults}">
        <!-- TODO: wyświetlenie szczegółów -->
    </h:dataTable>

</h:body>
</html>